---
id: task-051
title: Write integration tests for core flows
status: To Do
assignee: []
created_date: '2025-10-21 15:51'
labels:
  - testing
  - backend
dependencies: []
priority: high
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Write comprehensive integration tests covering the main user flows: CA creation, certificate issuance, revocation, CRL generation, and downloads.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [ ] #1 Test: Create CA and verify in database
- [ ] #2 Test: Issue server certificate and verify
- [ ] #3 Test: Certificate renewal flow
- [ ] #4 Test: Certificate revocation flow
- [ ] #5 Test: CRL generation and publishing
- [ ] #6 Test: Certificate download in multiple formats
- [ ] #7 Test: CA revocation and cascade
- [ ] #8 Test: Search and filtering
- [ ] #9 Test: Audit log entries created correctly
- [ ] #10 All tests passing
- [ ] #11 Test coverage for happy paths
- [ ] #12 Test coverage for error cases
<!-- AC:END -->
